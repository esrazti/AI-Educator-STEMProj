<!----------------------------     Some Of These Contain AI(Opus4.5) Generate Content   -------------------------------->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', monospace;
            background-color: #f5f5f5;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background-color: #ffffff;
            border: 1px solid #333;
            padding: 15px;
            margin-bottom: 20px;
        }

        .header h1 {
            padding: 0;
            margin: 0 0 5px 0;
            color: #333;
            font-size: 24px;
        }

        .header p {
            padding: 0;
            margin: 0;
            color: #666;
            font-size: 12px;
        }

        .upload-screen {
            background-color: #ffffff;
            border: 1px solid #333;
            padding: 30px;
            text-align: center;
        }

        .upload-area {
            border: 2px dashed #333;
            padding: 30px;
            margin: 20px 0;
            background-color: #eeeeee;
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: #000;
            background-color: #dddddd;
        }

        .upload-area p {
            padding: 5px 0;
            margin: 0;
            color: #333;
            font-size: 14px;
        }

        .upload-area .large {
            font-size: 36px;
            margin-bottom: 10px;
        }

        input[type="file"] {
            display: none;
        }

        .file-info {
            padding: 10px;
            background-color: #e0e0e0;
            margin: 15px 0;
        }

        .file-info p {
            padding: 3px 0;
            margin: 0;
            color: #333;
            font-size: 13px;
        }

        .upload-button {
            padding: 10px 30px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: normal;
            margin: 10px;
        }

        .upload-button:hover {
            background-color: #555;
        }

        .upload-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .loading-screen {
            display: none;
            background-color: #ffffff;
            border: 1px solid #333;
            padding: 30px;
            text-align: center;
        }

        .spinner {
            border: 3px solid #ccc;
            border-top: 3px solid #333;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 15px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #333;
            font-size: 14px;
            margin-top: 15px;
        }

        .analysis-info {
            background-color: #e0e0e0;
            padding: 10px;
            margin-top: 15px;
        }

        .analysis-info p {
            padding: 3px 0;
            margin: 0;
            color: #666;
            font-size: 12px;
        }

        .game-screen {
            display: none;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .panel {
            background-color: #ffffff;
            border: 1px solid #333;
            padding: 20px;
        }

        .panel h2 {
            padding: 0;
            margin: 0 0 10px 0;
            color: #333;
            font-size: 18px;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }

        .analysis-box {
            padding: 10px;
            background-color: #f0f0f0;
            margin-bottom: 10px;
            border-left: 3px solid #333;
        }

        .analysis-box p {
            padding: 3px 0;
            margin: 0;
            color: #333;
            font-size: 13px;
        }

        .analysis-box strong {
            color: #000;
        }

        canvas {
            border: 1px solid #333;
            background-color: #ffffff;
            display: block;
            margin-bottom: 15px;
            cursor: crosshair;
            width: 100%;
            height: auto;
        }

        .component {
            display: inline-block;
            padding: 8px 12px;
            margin: 5px 5px 5px 0;
            background-color: #333;
            color: white;
            cursor: pointer;
            font-size: 12px;
            font-weight: normal;
            border: none;
        }

        .component:hover {
            background-color: #555;
        }

        .component.selected {
            background-color: #008000;
        }

        .controls {
            padding: 10px;
            background-color: #f0f0f0;
            margin-bottom: 15px;
        }

        .control-group {
            padding: 8px 0;
            margin: 0;
        }

        .control-group label {
            display: block;
            padding: 3px 0;
            margin: 0;
            font-weight: bold;
            color: #333;
            font-size: 12px;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }

        button {
            padding: 8px 12px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 12px;
            font-weight: normal;
        }

        button:hover {
            background-color: #555;
        }

        button.danger {
            background-color: #cc0000;
        }

        button.danger:hover {
            background-color: #ff0000;
        }

        button.success {
            background-color: #008000;
        }

        button.success:hover {
            background-color: #00aa00;
        }

        .info-box, .warning-box, .success-box, .lesson-content {
            padding: 10px;
            border: 1px solid #333;
            margin-bottom: 10px;
        }
        
        .info-box {
            background-color: #e0e0ff;
        }
        
        .warning-box {
            background-color: #ffe0e0;
        }
        
        .success-box {
            background-color: #e0ffe0;
        }
        
        .lesson-content {
            background-color: #f0f0f0;
        }

        .info-box p, .warning-box p, .success-box p, .lesson-content p {
            padding: 3px 0;
            margin: 0;
            color: #333;
            font-size: 13px;
            line-height: 1.4;
        }
        
        .lesson-content strong {
            color: #333;
        }

        .prototype {
            font-size: 11px;
            color: #999;
            margin-top: 10px;
            font-style: italic;
        }
        
        @media (max-width: 1000px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>## STEM PROJECT HERE</h1>
            <p>Simplify Your Study with some games</p>
        </div>

        <div id="uploadScreen" class="upload-screen">
            <h2 style="color: #333; margin-bottom: 15px; font-size: 18px;">üìÑ Upload Your Document</h2>
            
            <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                <div class="large">üì§</div>
                <p>Click to upload a file or drag & drop</p>
                <p style="font-size: 12px; color: #666;">Supported: TXT, PDF, DOCX</p>
            </div>

            <input type="file" id="fileInput" accept=".txt,.pdf,.docx" onchange="handleFileUpload(event)">

            <div class="file-info" id="fileInfo" style="display: none;">
                <p><strong>üìå Selected File:</strong></p>
                <p id="fileName"></p>
                <p style="font-size: 11px; color: #666; margin-top: 5px;">File will be analyzed to generate custom wiring lessons</p>
            </div>

            <button class="upload-button" id="startBtn" disabled onclick="startAnalysis()">START ANALYSIS</button>
            <p class="prototype">This is a prototype. The lesson is pre-code with Circuit Lesson</p>
        </div>

        <div id="loadingScreen" class="loading-screen">
            <h2 style="color: #333;">Analyzing Your Document...</h2>
            <div class="spinner"></div>
            <div class="loading-text">
                <p>üîç Scanning content structure...</p>
                <p>üìä Extracting learning concepts...</p>
                <p>üéØ Generating personalized lessons...</p>
            </div>
            <div class="analysis-info">
                <p><strong>Analysis Details:</strong></p>
                <p>‚Ä¢ Document structure: Analyzed</p>
                <p>‚Ä¢ Complexity level: Intermediate</p>
                <p>‚Ä¢ Suggested focus areas: Wire safety, circuit design</p>
            </div>
        </div>

        <div id="gameScreen" class="game-screen">
            <div class="main-content">
                <div class="panel">
                    <h2>Wiring Workspace</h2>
                    
                    <div class="analysis-box">
                        <p><strong>üìã Document Analysis:</strong></p>
                        <p>File: <span id="docFileName"></span></p>
                        <p>Topics: Wire Safety, Circuit Design, Electrical Components</p>
                    </div>

                    <div class="lesson-content">
                        <p><strong>Level 1: Basic Series Circuit</strong></p>
                        <p>Based on your uploaded document, create a simple series circuit with a battery, LED, and switch.</p>
                        <p style="margin-top: 8px;"><strong>Steps:</strong> Battery ‚Üí Wire ‚Üí Switch ‚Üí Wire ‚Üí LED ‚Üí Wire ‚Üí Back to Battery</p>
                    </div>

                    <canvas id="simulatorCanvas" width="400" height="400"></canvas>

                    <div class="controls">
                        <div class="control-group">
                            <label>Draw Tools:</label>
                            <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px;">
                                <button class="component" onclick="selectTool('wire')">üîå Wire</button>
                                <button class="component" onclick="selectTool('resistor')">‚ñ¨ Resistor</button>
                                <button class="component" onclick="selectTool('battery')">üîã Battery</button>
                                <button class="component" onclick="selectTool('led')">üí° LED</button>
                                <button class="component" onclick="selectTool('switch')">üîò Switch</button>
                            </div>
                        </div>
                    </div>

                    <div class="control-buttons">
                        <button onclick="testCircuit()" class="success">Test Circuit</button>
                        <button onclick="clearCanvas()" class="danger">Clear</button>
                    </div>

                    <div id="testResult"></div>
                </div>

                <div class="panel">
                    <h2>Learn & Guide</h2>

                    <div class="analysis-box">
                        <p><strong>üìä Document Insights:</strong></p>
                        <p>Content Type: Electrical Engineering</p>
                        <p>Complexity: Intermediate Level</p>
                        <p>Key Concepts: 12 identified</p>
                    </div>

                    <div class="info-box">
                        <p><strong>üí° Current Tool:</strong> <span id="currentTool">None selected</span></p>
                    </div>

                    <div class="lesson-content" id="guideContent">
                        <p><strong>Understanding Series Circuits</strong></p>
                        <p>In series circuits, components are connected in a single path. The current flows through each component one after another.</p>
                        <p style="margin-top: 8px;"><strong>Key Points:</strong></p>
                        <p>‚Ä¢ Same current flows through all components</p>
                        <p>‚Ä¢ Voltages add up</p>
                        <p>‚Ä¢ If one component fails, circuit breaks</p>
                        <p style="margin-top: 8px;"><strong>Real-World Application:</strong> Christmas light strings often use series circuits</p>
                    </div>

                    <div class="warning-box" style="margin-top: 10px;">
                        <p><strong>‚ö†Ô∏è Safety Tips:</strong></p>
                        <p>‚Ä¢ Always turn off power before wiring</p>
                        <p>‚Ä¢ Check wire gauge matches the load</p>
                        <p>‚Ä¢ Ensure proper insulation</p>
                        <p>‚Ä¢ Use appropriate connectors</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let uploadedFileName = '';

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                uploadedFileName = file.name;
                document.getElementById('fileName').textContent = file.name;
                document.getElementById('fileInfo').style.display = 'block';
                document.getElementById('startBtn').disabled = false;
            }
        }

        function startAnalysis() {
            document.getElementById('uploadScreen').style.display = 'none';
            document.getElementById('loadingScreen').style.display = 'block';

            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                document.getElementById('gameScreen').style.display = 'block';
                document.getElementById('docFileName').textContent = uploadedFileName;
                initializeCanvas();
            }, 3000);
        }

        const canvas = document.getElementById('simulatorCanvas');
        const ctx = canvas.getContext('2d');
        
        let selectedTool = null;
        let components = [];
        let wires = [];
        let isDrawing = false;
        let startPoint = null;

        function initializeCanvas() {
            redrawCanvas();
        }

        function selectTool(tool) {
            selectedTool = tool;
            document.getElementById('currentTool').textContent = tool.charAt(0).toUpperCase() + tool.slice(1);
            document.querySelectorAll('.component').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        function drawGrid() {
            ctx.strokeStyle = '#cccccc';
            ctx.lineWidth = 0.5;
            for (let i = 0; i <= canvas.width; i += 20) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(canvas.width, i);
                ctx.stroke();
            }
        }

        function redrawCanvas() {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            drawGrid();

            ctx.strokeStyle = '#cc0000';
            ctx.lineWidth = 2;
            wires.forEach(wire => {
                ctx.beginPath();
                ctx.moveTo(wire.start.x, wire.start.y);
                ctx.lineTo(wire.end.x, wire.end.y);
                ctx.stroke();
            });

            components.forEach(comp => {
                drawComponent(comp);
            });
        }

        function drawComponent(comp) {
            ctx.fillStyle = '#333';
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            switch(comp.type) {
                case 'battery':
                    ctx.fillRect(comp.x - 12, comp.y - 20, 24, 40);
                    ctx.fillStyle = '#fff';
                    ctx.fillText('üîã', comp.x, comp.y);
                    break;
                case 'led':
                    ctx.beginPath();
                    ctx.arc(comp.x, comp.y, 10, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#fff';
                    ctx.fillText('üí°', comp.x, comp.y + 1);
                    break;
                case 'resistor':
                    ctx.fillRect(comp.x - 12, comp.y - 6, 24, 12);
                    ctx.fillStyle = '#fff';
                    ctx.fillText('R', comp.x, comp.y + 1);
                    break;
                case 'switch':
                    ctx.beginPath();
                    ctx.arc(comp.x, comp.y, 8, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#fff';
                    ctx.fillText('S', comp.x, comp.y + 1);
                    break;
            }
        }

        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left) * (canvas.width / rect.width);
            const y = (e.clientY - rect.top) * (canvas.height / rect.height);

            if (selectedTool === 'wire') {
                if (!isDrawing) {
                    startPoint = { x, y };
                    isDrawing = true;
                }
            } else if (selectedTool) {
                components.push({
                    type: selectedTool,
                    x: Math.round(x / 20) * 20,
                    y: Math.round(y / 20) * 20
                });
                redrawCanvas();
            }
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDrawing && selectedTool === 'wire') {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX - rect.left) * (canvas.width / rect.width);
                const y = (e.clientY - rect.top) * (canvas.height / rect.height);

                redrawCanvas();
                ctx.strokeStyle = '#cc0000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(startPoint.x, startPoint.y);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
        });

        canvas.addEventListener('mouseup', (e) => {
            if (isDrawing && selectedTool === 'wire') {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX - rect.left) * (canvas.width / rect.width);
                const y = (e.clientY - rect.top) * (canvas.height / rect.height);

                wires.push({
                    start: startPoint,
                    end: { x: Math.round(x / 20) * 20, y: Math.round(y / 20) * 20 }
                });
                isDrawing = false;
                redrawCanvas();
            }
        });

        function clearCanvas() {
            components = [];
            wires = [];
            document.getElementById('testResult').innerHTML = '';
            redrawCanvas();
        }

        function testCircuit() {
            const resultDiv = document.getElementById('testResult');
            
            let hasBattery = components.some(c => c.type === 'battery');
            let hasLED = components.some(c => c.type === 'led');
            let hasSwitch = components.some(c => c.type === 'switch');
            let hasWires = wires.length > 0;

            if (!hasBattery || !hasLED || !hasWires) {
                resultDiv.innerHTML = `
                    <div class="warning-box" style="margin-top: 10px;">
                        <p><strong>‚ö†Ô∏è Circuit Incomplete</strong></p>
                        <p>Need: Battery, LED, and Wires</p>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="success-box" style="margin-top: 10px;">
                        <p><strong>‚úì Circuit Works!</strong> üí°</p>
                        <p>Your wiring is correct based on the document analysis. Power flows properly!</p>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
